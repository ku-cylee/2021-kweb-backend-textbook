\section{Document Object Model (DOM)} \label{sect:document-object-model}

문서 객체 모델(Document Object Model; DOM)은 HTML 문서의 구조를 표현하는 모델입니다. DOM은 HTML 문서로부터 원하는 HTML 요소들을 선택하고, 선택된 요소들로부터 정보를 읽어오거나 선택된 요소들에 변화를 주는 등 제어하기 위해 사용됩니다. HTML 요소의 내부 텍스트(inner text), 내부 HTML(inner HTML), 속성과 속성값 등을 모두 읽거나 바꿀 수 있습니다. 

\subsection*{HTML 문서의 구조}

DOM은 HTML 문서의 구조를 객체로 나타냅니다. HTML은 계층 구조로 되어 있고, 각 HTML 요소는 속성과 속성값을 가지고 있으므로, 객체로 나타내기 적합합니다. \texttt{head} 태그나 \texttt{body} 태그는 \texttt{html} 태그의 한 속성이고, \texttt{title} 태그는 \texttt{head} 태그의 속성으로 나타내는 등 HTML 요소를 어떻게 객체로 표현할 수 있을지 상상이 되나요?

\figures{fig:html-elem-tree-struct}{Tree Structure of HTML Elements}
    {\fig{images/javascript-dynamic-frontend/html-elem-tree-struct.png}{.7}}

\figref{fig:html-elem-tree-struct}\와 같이 HTML 문서는 하나의 tree 형태로 표현될 수 있고, 각 HTML 요소는 tree의 node로써 저장됩니다. 그리고 이 tree 형태로 표현된 객체는 root node인 document라는 객체에 저장됩니다. 이 tree의 각 node 객체에는 그 node의 정보(예: \texttt{href}, \texttt{style}, \texttt{class})뿐만 아니라 그 node의 정보를 수정하거나 읽어오는 메서드, 그 node를 기준으로 다른 요소들을 선택할 수 있는 메서드 등을 가지고 있습니다. 

\subsection*{HTML 요소 선택 방법}

\coderef{code:dom-select-ex-html}의 HTML 문서에서 요소 선택 방법을 이용하여 요소들을 선택해봅시다.

\begin{codeenv}{code:dom-select-ex-html}{DOM Select Example (HTML)}\begin{verbatim}


<div id="container">
<h1>Articles List</h1>
<div class="article-title">
    <a href="/article/5">Ch 4. JS: Dynamic Frontend</a>
</div>
<div class="article-title">
    <a href="/article/4">Ch 3. Basics of Javascript</a>
</div>
<div class="article-title">
    <a href="/article/3">Ch 2. CSS: Designing HTML</a>
</div>
<div class="article-title">
    <a href="/article/2">Ch 1. HTML: The Basic Structure</a>
</div>
<div class="article-title">
    <a href="/article/1">Ch 0. Introduction to Front-end</a>
</div>
</div>
\end{verbatim}
\end{codeenv}

먼저 현재의 요소 아래에서 아이디, 클래스, 태그 등을 기준으로 요소들을 선택하는 방법입니다. 

\begin{itemize}
    \item \texttt{getElementByID}: 주어진 문자열을 아이디로 갖는 요소를 반환합니다. 
    \item \texttt{getElementsByTagName}: 주어진 문자열을 태그로 갖는 요소들의 유사 배열을 반환합니다. 
    \item \texttt{getElementsByClassName}: 주어진 문자열을 클래스로 갖는 요소들의 유사 배열을 반환합니다. 
    \item \texttt{querySelectorAll}: 주어진 CSS 선택자로 선택될 수 있는 요소들의 유사 배열을 반환합니다. 
\end{itemize}

여기서 유사 배열이라는 개념은, 정확한 개념은 아니지만, for 문이나 \texttt{length} 등 일반적인 배열들에서 사용할 수 있는 메서드나 속성을 사용할 수 있다는 의미에서 사용된 개념입니다. 아이디 값이 같은 요소는 존재할 수 없지만, 태그나 클래스가 같은 요소들은 존재할 수 있으므로 유사 배열의 형태로 반환됩니다. 

또한, 이러한 메서드들은 \texttt{document} 객체의 메서드로 사용될 수 있고, 어떠한 요소 객체의 메서드로 사용될 수도 있습니다. 

\begin{codeenv}{code:dom-select-ex-1}{DOM Select Examples (1)}\begin{verbatim}


> document.getElementById('container');
> document.getElementsByClassName('article-title');
> document.getElementsByTagName('a');
> const title = document.getElementsByClassName('article-title')[2];
> title.getElementsByTagName('a');
> document.querySelectorAll('div.article-title > a');
\end{verbatim}
\end{codeenv}
